<div class="products">

  <div class="action-bar text-right">
    <button type="button" onclick="F1.modal.show('#add-product', event)">+ Add Product</button>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th>Code</th>
        <th>Name</th>
        <th>Cost Price</th>
        <th>&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <?php foreach ($products as $product): ?>
      <tr>
        <td><?=$product->code?></td>
        <td><?=$product->description?></td>
        <td>R<?=$product->cost_price?></td>
        <td><a class="pagelink" href="products/product/edit?id=<?=$product->id?>">Edit Product</a></td>
      </tr>
      <?php endforeach; ?>
      <?php if (empty($products)):?>
      <tr><td colspan="4">- None -</td></tr>
      <?php endif; ?>
    </tbody>
  </table>

  <!-- ADD PRODUCT MODAL -->
  <div id="add-product" class="modal hidden">
    <form method="POST" class="pjax">
      <div class="modal-inner">
        <header>
          <a class="modal-close" href="#" onclick="F1.modal.dismiss(this, event)">Close X</a>
        </header>
        <br>
        <div class="modal-content">
          <fieldset>
            <legend>New Product</legend>
            <div class="form-field">
              <label>Category</label>
              <?=$categoriesDropdown?>
            </div>
            <div class="form-field">
              <label>Sub Category</label>
              <?=$subCategoriesDropdown?>
            </div>            
            <div class="form-field">
              <label>Supplier</label>
              <?=$suppliersDropdown?>
            </div>
            <div class="form-field">
              <label>Code</label>
              <input name="product[code]" value="" type="text">
            </div>
            <div class="form-field">
              <label>Name</label>
              <input name="product[name]" value="" type="text">
            </div>
            <div class="form-field">
              <label>Description</label>
              <textarea name="product[description]" rows="2"></textarea>
            </div>
            <div class="form-field">
              <label>Cost Price</label>
              <span class="input-group">
                <span class="add-on">R</span>
                <input name="product[cost_price]" value="" type="text">
              </span>
            </div>
            <div class="form-field">
              <label>Selling Price</label>
              <span class="input-group">
                <span class="add-on">R</span>
                <input name="product[sell_price]" value="" type="text">
              </span>
            </div>
          </fieldset>
        </div>
        <br>
        <footer>
          <div class="buttons-bar">
            <button type="submit" name="add-product">Add new product</button>
          </div>
        </footer>
      </form>
    </div>
  </div>

</div>
